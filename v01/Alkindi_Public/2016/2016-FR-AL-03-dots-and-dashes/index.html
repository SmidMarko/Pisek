<!doctype html>
<html>
   <head>
    <meta charset="utf-8">
    <title>2016-FR-AL-03</title>
    <link class="module" rel="stylesheet" href="../../../_common/modules/pemFioi/taskStyles-0.1.css" id="http://www.france-ioi.org/modules/pemFioi/taskStyles-0.1.css">
    <script class="module" type="text/javascript" src="../../../_common/modules/ext/jquery/1.7/jquery.min.js" id="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/ext/jquery-ui/jquery.ui.touch-punch.min.js" id="jquery.ui.touch-punch.min.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/ext/raphael/2.2.1/raphael.min.js" id="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.1/raphael.min.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/ext/json/json2.min.js" id="https://github.com/douglascrockford/JSON-js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/beav-1.0.js" id="http://www.france-ioi.org/modules/pemFioi/beav-1.0.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/drag_lib-2.0.js" id="http://www.france-ioi.org/modules/pemFioi/drag_lib.js"></script>

    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/beaver-task-2.0.js" id="http://www.france-ioi.org/modules/pemFioi/beaver-task-2.0.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/simulation-2.0.js" id="http://www.france-ioi.org/modules/pemFioi/simulation-2.0.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/raphaelFactory-1.0.js" id="http://www.france-ioi.org/modules/pemFioi/raphaelFactory-1.0.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/delayFactory-1.0.js" id="http://www.france-ioi.org/modules/pemFioi/delayFactory-1.0.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/simulationFactory-1.0.js" id="http://www.france-ioi.org/modules/pemFioi/simulationFactory-1.0.js"></script>
    <script class="module" type="text/javascript" src="../../../_common/modules/pemFioi/randomGenerator-1.0.js" id="http://www.france-ioi.org/modules/pemFioi/randomGenerator-1.0.js"></script>

    <script class="remove" type="text/javascript" src="../../../_common/modules/integrationAPI.01/installationAPI.01/pemFioi/installation.js" id="http://www.france-ioi.org/modules/integrationAPI.01/installationAPI.01/pemFioi/installation.js"></script>
    <script class="proxy module" type="text/javascript" src="../../../_common/modules/integrationAPI.01/official/platform-pr.js" id="http://www.france-ioi.org/modules/integrationAPI.01/official/platform-pr.js"></script>
    <script class="stdButtonsAndMessages module" type="text/javascript" src="../../../_common/modules/integrationAPI.01/installationAPI.01/pemFioi/buttonsAndMessages.js"  id="http://www.france-ioi.org/modules/integrationAPI.01/installationAPI.01/pemFioi/buttonsAndMessages.js"></script>
    <script class="remove" type="text/javascript" src="../../../_common/modules/integrationAPI.01/official/miniPlatform.js" id="http://www.france-ioi.org/modules/integrationAPI.01/official/miniPlatform.js"></script>
      <script>
         var stringsLanguage = 'fr';
      </script>
      <script class="remove" type="text/javascript">
       var json = {
          "id": "http://castor-informatique.fr/tasks/alkindi_2016/2016-FR-AL-03-dots-and-dashes/",
          "language": "fr",
          "version": "fr.01",
          "authors": "Animath, France-ioi, Nir Lavee, Matthieu Lequesne, Razvan Barbaud, Mathias Hiron",
          "license": "CC BY-SA 3.0",
          "translators": [],
          "taskPathPrefix": "",
          "modulesPathPrefix": "",
          "browserSupport": [],
          "fullFeedback": true,
          "acceptedAnswers": [],
          "usesRandomSeed": false
      };
      </script>
      <script type="text/javascript">
        var taskStrings = {
           success: "Bravo, vous avez réussi !",
           wrong: "Le texte décodé ne correspond pas au texte d'origine.",

           cipherLength: function(length) {
              return "Longueur = " + length;
           },
           badSuffix: "Il reste des symboles non encodés.",
           suboptimal: "Il est possible d'obtenir un texte encodé plus court.",
           unused: "Inutilisé"
        };
      </script>
      <script type="text/javascript" src="task.js"></script>
      <style>
         .message {
            background-color: #EEE;
            padding: 3px;
            border: solid black 1px;
            word-wrap: break-word;
            max-width: 520px;
         }
         #mainTable {
            font-size: 16px;
            width: 760px;
         }
         #mainTable tr td {
            vertical-align: top;
         }
         .leftColumn {
            width: 220px;
         }
      </style>
   </head>
   <body>
      <div id="task">
         <h1>Points et tirets</h1>
         <div id="tabsContainer"></div>
         <div id="taskContent">

	   <p>
             Chaque lettre de l'alphabet est remplacée par une suite de points et tirets.
	   </p>
	   <p><b>Échangez les symboles du code</b> associés aux différentes lettres pour <span class="hard"><b>trouver un code valide</b> et</span> rendre <b>la longueur du texte aussi petite que possible</b>.  
           </p>

	   <p style="background-color:#F6CED8; padding:3pt" class="medium">
	     Un des symboles du code n'est pas utilisé.
	   </p>
	   
	   <p class="hard">
	     Certains symboles du code ne sont pas utilisés.
	   </p>

	   <p style="background-color:#F6CED8; padding:3pt" class="hard">
	     <b>Attention :</b> pour décoder on remplace une suite de points et tirets par une lettre <b>dès que possible</b>.
	   </p>
	   <p class="hard">
	     Certains codes ne fonctionnent pas, par exemple si « e » est codé par <img src="e_code.png"> et « t » par <img src="_t_code.png"> alors le texte <img src="et_code.png"> est décodé en « eee » et non pas en « et ».
	   </p>
	   
            <table id="mainTable">
               <tr>
                  <td rowspan="2" class="leftColumn">
                     <div id="paperUser"></div>
                  </td>
                  <td class="rightColumn">
                     <p>
                        Texte clair :
                     </p>
                     <div id="word" class="message"></div>
		     <p>
		       <div class="rightColumn" style="float:left">Texte codé :</div>
		       <div class="rightColumn" style="text-align:right"><span id="cipherLength" style='font-weight:bold'></span></div>
                     </p>
                     <div id="paperEncrypted" class="message"></div>
                  </td>
               </tr>
               <tr>
                  <td id="decryptionContainer" class="rightColumn">
                     <p>
                     Il peut être décodé en :
                     </p>
                     <div id="paperDecrypted" class="message"></div>
                  </td>
               </tr>
            </table>
            
            <img src="icon.png" style="display:none">
         </div>
      </div><!-- task -->
      <div id="solution">
         <h2>Solution</h2>
<span class="easy">
<p>On échange les lettres deux à deux et on garde le changement seulement si cela fait diminuer la longueur. De proche en proche on trouve qu'il faut trier par ordre croissant :
<center class="easy"><img src="solution_easy.png"> </img> </center>
</p>
</span>

<span class="medium">
<p>Lorsqu'on échange les codes associés à chaque lettre, on remarque que la longueur diminue lorsqu'on associe des codes courts aux lettres fréquentes, et cela incite à trier par ordre croissant :</p>
<center><img src="solution_medium.png"> </img> </center>
<p>C'est bien la solution, mais essayons de comprendre pourquoi cela fonctionne. Pour chaque lettre du texte, on note P(<i>lettre</i>) le nombre d'apparitions dans le texte, par exemple P("e") = 26. On note ensuite L(<i>lettre</i>) la longueur du code associé à la lettre, par exemple si "e" est codé par <img src="dotdot.png"> </img> alors L("e") = 2. La longueur cumulée de toutes les apparitions de "e" est donc P("e").L("e"). La longueur totale du texte s'écrit donc :</p>

<center><font size="2">longueur=P("e").L("e") + P("r")&middot;L("r") + P("_")&middot;L("_") + P("s")&middot;L("s") + P("v")&middot;L("v") + P("t")&middot;L("t") + P("c")&middot;L("c") + P("a")&middot;L("a") + P("i")&middot;L("i").</font> </center>  

<p>Si l'on se trouve dans une situation où "e" a un code plus long que "r" (c'est à dire L("e") > L("r")), montrons qu'il vaut mieux échanger le code de "r" et de "e". La longueur du texte avant changement est P("e")&middot;L("e") + P("r")&middot;L("r") + S, où S est la contribution des autres lettres. La longueur après changement est P("e")&middot;L("r") + P("r")L("e") + S. La différence entre l'ancienne et la nouvelle longueur est :</p>
<center>P("e")&middot;L("e") + P("r")&middot;L("r") - [P("e")&middot;L("r") + P("r")L("e")].</center>
<p>Cette différence se factorise en [P("e") - P("r")] &middot; [L("e") - L("r")] qui est le produit de deux nombres positifs, donc positive. Ainsi la longueur du texte diminue si on échange les codes de deux lettres pour que le code plus court corresponde à la lettre la plus fréquente.
</p>
</span>

<span class="hard">
<p>Lorsqu'on décode, il faut s'assurer que le code d'acune lettre n'est préfixe d'une autre. Sinon c'est la lettre avec le code le plus court qui est décodée. Par exemple, si "e" est codé par <img src="e_code.png"> et "t" par <img src="t_code.png">, alors le décodage est faux, par exemple le mot "et" est décodé en "eee".</p>

<p>Il est donc impossible d'utiliser à la fois le code <img src="e_code.png"> et un des autres codes dont il est préfixe : <img src="dotdot.png">, <img src="dotdashdash.png">, <img src="dotdashdotdot.png">, <img src="dotdashdotdash.png">. Comme nous ne pouvons pas renoncer à 4 codes, il faut donc rejeter le code <img src="e_code.png">. De la même manière il faut choisir jeter le code <img src="dashdash.png"> ou jeter tous les codes dont il est préfixe : <img src="dashdashdot.png">, <img src="dashdashdashdashdash.png"> et  <img src="dashdashdashdot.png" >. Nous ne pouvons pas jeter 3 codes donc nous il faut rejeter <img src="dashdash.png">. L'interface nous confrme que les codes restants ne sont pas préfixe l'un de l'autre car le texte est correctement décodé (plus de morceaux en rouge). Il ne reste plus qu'à trier les codes restants pour minimiser la longueur.</p>
<center><img src="solution_hard.png"> </center>
</span>

<h2 class="easy medium hard"> C'est de la crypto</h2>
<p> Le télégraphe ne peut pas transmettre la voix mais seulement des bruits courts, appelés points, et bruits longs appelés traits. Le code de <a href="https://fr.wikipedia.org/wiki/Morse_(alphabet)">Morse</a> a été choisi parmi plusieurs tels codes parce qu'il a la plus courte longueur pour la plupart des textes de la littérature de langue anglaise. La version de quatre  étoiles propose une amélioration : grâce au travaux de <a href="https://fr.wikipedia.org/wiki/Codage_de_Huffman">Huffman</a> on n'est plus obligé de faire une petite pause après chaque lettre. 
        </p>



	  </div> <!-- task-solution -->
   </body>
</html>
